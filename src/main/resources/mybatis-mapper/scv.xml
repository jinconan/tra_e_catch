<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mybatis.mapper.scvMapper">
	<select id="login" resultType="int" parameterType="map">
	SELECT  
	    NVL((SELECT emp_no 
	    		FROM employee
				WHERE id=#{emp_id} AND pw=#{emp_pw}),0) as emp_no
	FROM dual
	</select>
	
	<select id="getScvList" parameterType="int" resultType="map">
		SELECT
		     emp_no, name, hire_date, lev_no
		     , dept_no, resign_yn, last_date, loc_no
		     , birthday, id, pw, sal, authority, email, gender
		     , team_no, email_yn
		  FROM employee 
		  	 WHERE emp_no=#{1}
		
	</select>
	
	<update id="modify"  parameterType="map">
	UPDATE employee
		SET 
		  pw    = #{emp_cur_pw}
		 ,email = #{emp_email}
		 ,email_yn = #{cb_recv_email}
		 WHERE emp_no = #{emp_no}
	</update>
	
	
</mapper>